{"version":3,"sources":["myBase.js","components/auth/AuthForm.js","Context.js","img/logo_clean.png","components/auth/JoinForm.js","routes/Auth.js","components/home/SocialBlock.js","components/Lmitte.js","img/photo_icon.png","components/home/CreateLmitte.js","components/LoadingBar.js","routes/Home.js","components/Navigation.js","components/profile/MyInfo.js","routes/MyProfile.js","routes/OtherProfile.js","components/Router.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","AuthForm","useState","email","password","inputs","setInput","error","setError","onChange","e","target","name","value","onSubmit","a","preventDefault","signInWithEmailAndPassword","message","className","type","placeholder","required","React","memo","CurrentUserContext","createContext","RefreshUser","GetUserData","UserProvider","children","user","setUser","useEffect","onAuthStateChanged","displayName","uid","photoURL","updateProfile","args","getUserData","collection","where","get","ref","userInfo","data","docs","id","Provider","currentUser","useUserContext","context","useContext","Error","useRefreshUser","useUserData","AccountForm","username","refreshUser","createUserWithEmailAndPassword","logo","newUser","date","metadata","creationTime","userId","userIntro","add","setTimeout","Auth","newAccount","setNewaccount","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","onSnapshot","snapshot","length","src","alt","JoinForm","onClick","prev","SocialBlock","lmitteObj","like","setLike","comment","setComment","input","uuidv4","comId","setComId","likedId","comments","getLikeInfo","useCallback","doc","lmitteData","filter","onLike","update","concat","onSubmitComment","aComment","text","creatorId","creator","map","to","Lmitte","userFile","newLmitte","setNewLmitte","setCreator","isCreator","useMemo","Boolean","edit","option","toggle","setToggle","getCreator","timeView","passedTime","Date","now","createdAt","Math","floor","onToggle","onDeleteClick","window","confirm","fileUrl","refFromURL","delete","width","CreateLmitte","lmitteText","setLmitteText","fileData","setFileData","fileInput","useRef","onFileChange","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","clearFileData","current","today","year","getFullYear","month","getMonth","getDate","fileReference","child","putString","response","getDownloadURL","lmitte","alert","accept","htmlFor","photoIcon","LoadingBar","loadingOn","loading","setLoading","x1","y1","x2","y2","offset","stopColor","cx","cy","r","stroke","Home","lmittes","setLmittes","getLmittes","orderBy","LmitteArray","Navigation","history","useHistory","signOut","push","MyInfo","setUpdate","myPhoto","myIntro","docId","myData","setMydata","newName","newPhoto","newIntro","setInputs","photoInput","top","getMyData","onChangeInput","scrollIntoView","listAll","items","item","maxLength","Profile","myLmittes","setMyLmittes","getMyLmittes","myLmitte","OtherProfile","useParams","userLmittes","setUserLmittes","thisUser","setThisUser","getThisUser","getYourLmittes","userLmitte","AppRouter","isLoggedIn","exact","path","MyProfile","App","init","setInit","document","title","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c696bb72.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n    appId: process.env.REACT_APP_APP_ID\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseInstance = firebase;\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.firestore();\r\nexport const storageService = firebase.storage();","import React, {useState} from 'react';\r\nimport {authService} from 'myBase';\r\n\r\nfunction AuthForm() {\r\n    const initialInputs = {\r\n        email:'',\r\n        password:''\r\n    };\r\n\r\n    const [inputs, setInput] = useState(initialInputs);\r\n    const [error, setError] = useState('');\r\n\r\n    const {email, password} = inputs;\r\n    const onChange = (e) => {\r\n        const {name, value} = e.target;\r\n\r\n        setInput({...inputs, [name] : value});\r\n    }\r\n    const onSubmit = async(e) => {\r\n        e.preventDefault();\r\n        try{\r\n            await authService.signInWithEmailAndPassword( email,  password );\r\n        }catch(error){\r\n            setError(error.message);\r\n        }\r\n    } \r\n    return (\r\n        <form onSubmit={onSubmit} className=\"loginForm\">\r\n            <input name=\"email\" type=\"text\" placeholder=\"Email\" value={email} required onChange={onChange} />\r\n            <input name=\"password\" type=\"password\" placeholder=\"Password\" value={password} required onChange={onChange} />\r\n            <span>{error}</span>\r\n            <button type=\"submit\">Log In</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default React.memo(AuthForm);","import React, { useEffect, useState, createContext, useContext } from \"react\";\r\nimport { authService, dbService } from \"myBase\";\r\n\r\nconst CurrentUserContext = createContext();\r\nconst RefreshUser = createContext();\r\nconst GetUserData = createContext();\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    authService.onAuthStateChanged(user => {\r\n        if(user){\r\n            setUser({\r\n                displayName : user.displayName,\r\n                uid: user.uid,\r\n                photoURL: user.photoURL,\r\n                updateProfile: (args) => user.updateProfile(args)\r\n              });\r\n        }else{\r\n            setUser({});\r\n        } \r\n    });\r\n    return () => {\r\n      setUser({});\r\n    }\r\n  }, []);\r\n\r\n  const getUserData = async (uid) => {\r\n    const ref = await dbService.collection('users').where('userId', '==', uid).get();\r\n    const userInfo = {\r\n      data : ref.docs[0].data(),\r\n      id : ref.docs[0].id\r\n    }\r\n    return userInfo;\r\n  }\r\n\r\n  const refreshUser = () => {\r\n    const user = authService.currentUser;\r\n    setUser({\r\n      displayName : user.displayName,\r\n      uid: user.uid,\r\n      photoURL: user.photoURL,\r\n      updateProfile: (args) => user.updateProfile(args)\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={user}>\r\n        <RefreshUser.Provider value={refreshUser}>\r\n          <GetUserData.Provider value={getUserData}>\r\n            {children}\r\n          </GetUserData.Provider>\r\n        </RefreshUser.Provider>  \r\n    </CurrentUserContext.Provider>\r\n  );\r\n};\r\n\r\nexport function useUserContext(){\r\n    const context = useContext(CurrentUserContext);\r\n    if(!context){\r\n        throw new Error('Can not find userContext');\r\n    }\r\n    return context;\r\n}\r\n\r\nexport function useRefreshUser(){\r\n    const context = useContext(RefreshUser);\r\n    if(!context){\r\n        throw new Error('Can not find resfreshUser function');\r\n    }\r\n    return context;\r\n}\r\n\r\nexport function useUserData(){\r\n  const context = useContext(GetUserData);\r\n  if(!context){\r\n    throw new Error('Can not find GetUserData function');\r\n  }\r\n  return context;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo_clean.dd6c899f.png\";","import React, {useState} from 'react';\r\nimport {authService, dbService } from 'myBase';\r\nimport { useRefreshUser } from 'Context';\r\nimport logo from 'img/logo_clean.png';\r\n\r\nfunction AccountForm() {\r\n    const initialInputs = {\r\n        username: '',\r\n        email:'',\r\n        password:''\r\n    };\r\n    const [inputs, setInput] = useState(initialInputs);\r\n    const [error, setError] = useState('');\r\n    const refreshUser = useRefreshUser();\r\n\r\n    const {username, email, password} = inputs;\r\n    const onChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setInput({...inputs, [name] : value});\r\n    }\r\n    const onSubmit = async(e) => {\r\n        e.preventDefault();\r\n        try{\r\n            await authService.createUserWithEmailAndPassword( email,  password );\r\n            authService.onAuthStateChanged((user) => {\r\n                if (user) {\r\n                    user.updateProfile({ \r\n                        displayName: username,\r\n                        photoURL: logo\r\n                    });\r\n                    const newUser = {\r\n                        date : user.metadata.creationTime,\r\n                        email : user.email,\r\n                        username : username,\r\n                        userId : user.uid,\r\n                        photoURL : logo,\r\n                        userIntro : `Hello, I am ${username}`\r\n                    }\r\n                    dbService.collection(`users`).add(newUser);\r\n                }\r\n            });\r\n            setTimeout(refreshUser, 900);\r\n        }catch(error){\r\n            setError(error.message);\r\n        }\r\n    } \r\n    return (\r\n        <form onSubmit={onSubmit} className=\"joinForm\">\r\n            <input name=\"username\" type=\"text\" placeholder=\"Your Name\" value={username} required onChange={onChange} />\r\n            <input name=\"email\" type=\"text\" placeholder=\"Email\" value={email} required onChange={onChange} />\r\n            <input name=\"password\" type=\"password\" placeholder=\"Password\" value={password} required onChange={onChange} />\r\n            <span>{error}</span>\r\n            <button type=\"submit\">Create Account</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default React.memo(AccountForm);","import { authService, firebaseInstance, dbService } from 'myBase';\r\nimport React, { useState } from 'react';\r\nimport AuthForm from 'components/auth/AuthForm';\r\nimport JoinForm from 'components/auth/JoinForm';\r\nimport logo from 'img/logo_clean.png';\r\nimport 'scss/auth.scss';\r\n\r\nconst Auth = () => {\r\n    const [newAccount, setNewaccount] = useState(false);\r\n    const toggleAccount = () => setNewaccount(prev => !prev);\r\n    const onSocialClick = async e => {\r\n        const {name} = e.target;\r\n        let provider;\r\n        if(name === 'googgle'){\r\n           provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n        }else if(name === 'github'){\r\n           provider = new firebaseInstance.auth.GithubAuthProvider();\r\n        }\r\n        await authService.signInWithPopup(provider);\r\n        authService.onAuthStateChanged((user) => {\r\n            if(user){\r\n                dbService.collection('users').where('userId', '==', user.uid).onSnapshot(snapshot => {\r\n                    if(snapshot.docs.length === 0){\r\n                        const newUser = {\r\n                            date : user.metadata.creationTime,\r\n                            email : user.email,\r\n                            username : user.displayName,\r\n                            userId : user.uid,\r\n                            photoURL : user.photoURL,\r\n                            userIntro : `Hello, I am ${user.displayName}`\r\n                        }\r\n                        dbService.collection(`users`).add(newUser);\r\n                    }\r\n                 });   \r\n            }\r\n        });\r\n    }\r\n\r\n    return <>\r\n    <div className=\"accountForm\">\r\n        <h1>\r\n            <img src={logo} alt=\"logo\"/>\r\n            <div>\r\n                <span>lmitter</span>\r\n                <p>Get on Our Social Waves</p>\r\n            </div>\r\n        </h1>\r\n        <div className=\"authBox\">\r\n            <div className=\"leftBox\">\r\n                {newAccount?<JoinForm />:<AuthForm />}\r\n                <button onClick={toggleAccount}>{newAccount?'Log In':'Create Account'}</button>\r\n            </div>\r\n            <ul className=\"rightBox\">\r\n                <li><button name=\"googgle\" onClick={onSocialClick} >Continue with Google</button></li>\r\n                <li><button name=\"github\" onClick={onSocialClick} >Continue with Github</button></li>\r\n            </ul>\r\n        </div>\r\n    </div>  \r\n    </>;\r\n}\r\n\r\nexport default Auth","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { dbService } from 'myBase';\r\nimport { Link } from 'react-router-dom';\r\nimport { MdFavoriteBorder, MdFavorite, MdChatBubbleOutline } from \"react-icons/md\";\r\nimport { useUserContext } from 'Context';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction SocialBlock({lmitteObj}) {\r\n    const user = useUserContext();\r\n    const {uid, displayName} = user;\r\n\r\n    const [like, setLike] = useState(false);\r\n    const [comment, setComment] = useState(false);\r\n    const [input, setInput] = useState('');\r\n    const [comId, setComId] = useState(uuidv4());\r\n\r\n    const { likedId, comments } = lmitteObj;\r\n    \r\n    const getLikeInfo = useCallback( async () => {\r\n        const ref = await dbService.doc(`lmittes/${lmitteObj.id}`).get();\r\n        const lmitteData = ref.data();\r\n        const likedArray = lmitteData.likedId.filter(id => id === uid);\r\n        likedArray.length>0&&setLike(true);\r\n\r\n    }, [lmitteObj, uid]);\r\n    useEffect(() => {\r\n        getLikeInfo();\r\n        return () => {\r\n            setLike(false);\r\n        }\r\n    }, [getLikeInfo]);\r\n\r\n    const onLike = async (e) => {\r\n        e.preventDefault();\r\n        setLike(prev => !prev);\r\n        if(!like){\r\n            await dbService.doc(`lmittes/${lmitteObj.id}`).update({\r\n                likedId : likedId.concat(uid)\r\n            });\r\n        }else{\r\n            await dbService.doc(`lmittes/${lmitteObj.id}`).update({\r\n                likedId : likedId.filter(id => id !== uid)\r\n            })\r\n        }\r\n    }\r\n    const onComment = () => {\r\n        setComment(prev => !prev);\r\n    }\r\n    const onChangeComment = e => {\r\n        const {value} = e.target;\r\n        setInput(value);\r\n    }\r\n    const onSubmitComment = async (e) => {\r\n        e.preventDefault();\r\n        const aComment = {\r\n            text: input,\r\n            creatorId : uid,\r\n            creator : displayName,\r\n            id : comId\r\n        }\r\n        await dbService.doc(`lmittes/${lmitteObj.id}`).update({\r\n            comments : comments.concat(aComment)\r\n        })\r\n        setComId(prev => uuidv4());\r\n        setInput('');\r\n    }\r\n    return (\r\n        <div className=\"socialBlock\">\r\n            <div className=\"socialLine\">\r\n                <span>{likedId.length}</span><button onClick={onLike}>{like?<MdFavorite />:<MdFavoriteBorder />}</button>\r\n                <span>{comments.length}</span><button onClick={onComment}><MdChatBubbleOutline /></button>\r\n            </div>\r\n            {comment&&<>\r\n                <form onSubmit={onSubmitComment}>\r\n                    <input type=\"text\" placeholder=\"Leave your comment\" value={input} onChange={onChangeComment} />\r\n                    <button>comment</button>\r\n                </form>\r\n                {comments.length>0&&<ul className=\"comment\">\r\n                    {comments.map(comment => <li key={comment.id}>\r\n                        <Link to={uid === comment.creatorId?'/profile':`/profile/${comment.creatorId}`}>{comment.creator}</Link>\r\n                        {comment.text}\r\n                    </li>)}\r\n                </ul>}\r\n            </>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default React.memo(SocialBlock);","import React, { useState, useCallback, useEffect, useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { dbService, storageService } from 'myBase';\r\nimport { useUserContext, useUserData } from 'Context';\r\nimport SocialBlock from 'components/home/SocialBlock';\r\n\r\nconst Lmitte = ({lmitteObj}) => {\r\n    const user = useUserContext();\r\n    const userFile = useUserData();\r\n    const [newLmitte, setNewLmitte] = useState(lmitteObj.text);\r\n    const [creator, setCreator] = useState({});\r\n    const isCreator = useMemo(() => {\r\n        return Boolean(user.uid === lmitteObj.creatorId);\r\n    }, [user.uid, lmitteObj.creatorId]);\r\n\r\n    const [toggle, setToggle] = useState({\r\n        edit : false,\r\n        option : false\r\n    });\r\n    const {edit, option} = toggle;\r\n    \r\n    const getCreator = useCallback( async () => {\r\n        const userInfo = await userFile(lmitteObj.creatorId);\r\n        setCreator(userInfo.data);\r\n    },[lmitteObj.creatorId, userFile]);\r\n    \r\n    useEffect(() => {\r\n        getCreator();\r\n        return () => {\r\n            setCreator({});\r\n        }\r\n    }, [getCreator]);\r\n\r\n    let TIME = Date.now();\r\n    let timeView;\r\n    let passedTime = (TIME - lmitteObj.createdAt)/1000;\r\n    if(passedTime < 60 ){\r\n        timeView = 'now';\r\n    }else if(Math.floor(passedTime) === 60){\r\n        timeView = '1 minute ago'\r\n    }else if(Math.floor(passedTime) < 60 * 60){\r\n        timeView = `${Math.floor(passedTime / 60)} mintues ago`\r\n    }else if(Math.floor(passedTime) === 60 * 60){\r\n        timeView = '1 hour ago'\r\n    }\r\n    else if(Math.floor(passedTime) < 24 * 60 * 60){\r\n        timeView =`${Math.floor(passedTime / 60 / 60)} hours ago`\r\n    }else{\r\n        timeView = `${lmitteObj.date}`\r\n    }\r\n\r\n    const onToggle = e => {\r\n        const {name} = e.target;\r\n        setToggle(prev => ({...prev, [name]:!prev[name]}));\r\n    }\r\n    const onEditCancel = () => {\r\n        setToggle(prev => !prev);\r\n    }\r\n    const onChange = useCallback(e => {\r\n        const {value} = e.target;\r\n        setNewLmitte(value);\r\n    }, []);\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        await dbService.doc(`lmittes/${lmitteObj.id}`).update({\r\n            text: newLmitte\r\n        });\r\n        setToggle(prev => !prev);\r\n    }\r\n    const onDeleteClick = async () => {\r\n        const ok = window.confirm('Do you really want to delete this lmitte?');\r\n        if(ok){\r\n           if(lmitteObj.fileUrl !== ''){\r\n            await storageService.refFromURL(lmitteObj.fileUrl).delete(); \r\n           }\r\n           await dbService.doc(`lmittes/${lmitteObj.id}`).delete();\r\n        }\r\n    }\r\n    \r\n    return(<>\r\n        <div className=\"creatorInfo\">\r\n            <div className=\"left\">\r\n                <Link to={isCreator?'/profile':`/profile/${lmitteObj.creatorId}`} className=\"creator\">\r\n                    <figure>\r\n                        <img src={creator.photoURL} alt=\"profile\" width=\"50\"/>\r\n                    </figure>\r\n                    <span>{creator.username}</span>\r\n                </Link>\r\n                <span className=\"date\">{timeView}</span>\r\n            </div>\r\n            <div className=\"right\">\r\n                {isCreator&&<>\r\n                    <button name=\"option\" onClick={onToggle}>• • •</button>\r\n                    {option&&<ul>\r\n                        <li><button name=\"edit\" onClick={onToggle}>edit</button></li>\r\n                        <li><button onClick={onDeleteClick}>delete</button></li>\r\n                    </ul>}   \r\n                </>}\r\n            </div>\r\n        </div>\r\n        {edit?<>\r\n                {isCreator&&<>\r\n                    <form onSubmit={onSubmit} className=\"editForm\">\r\n                        <input type=\"text\" placeholder=\"Edit your lmitte!\" value ={newLmitte} required onChange={onChange} />\r\n                        <div>\r\n                            <button type=\"submit\">Update Lmitte</button>\r\n                            <button type=\"button\" onClick={onEditCancel}>Cancel</button>\r\n                        </div>\r\n                    </form>\r\n                </>}\r\n            </>:\r\n            <>\r\n                {lmitteObj.text&&<p className=\"lmitteText\">{lmitteObj.text}</p>}\r\n                {lmitteObj.fileUrl && <img src={lmitteObj.fileUrl} alt=\"\" />}\r\n                <SocialBlock lmitteObj={lmitteObj} />\r\n        </>}\r\n    </>);\r\n}\r\n\r\nexport default React.memo(Lmitte);","export default \"data:image/png;base64,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\"","import React, {useCallback, useRef, useState} from 'react';\r\nimport {storageService, dbService} from 'myBase';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { useUserContext } from 'Context';\r\nimport photoIcon from 'img/photo_icon.png';\r\n\r\nfunction CreateLmitte() {\r\n    const user = useUserContext();\r\n    const [lmitteText, setLmitteText] = useState('');\r\n    const [fileData, setFileData] = useState('');\r\n    const fileInput = useRef();\r\n    \r\n    const onChange = useCallback(e => {\r\n        const {value} = e.target;\r\n        setLmitteText(prev => value);\r\n    }, []);\r\n    const onFileChange = useCallback(e => {\r\n        const {files} = e.target;\r\n        const theFile = files[0];\r\n        const reader = new FileReader();\r\n        reader.onloadend = (finishedEvent) => {\r\n            const {result} = finishedEvent.currentTarget;\r\n            setFileData(result);\r\n        }\r\n        reader.readAsDataURL(theFile);\r\n    }, []);\r\n    const clearFileData = () => {\r\n        setFileData('');\r\n        fileInput.current.value = '';\r\n    }\r\n    const onSubmit = async(e) => {\r\n        e.preventDefault();\r\n        let fileUrl = '';\r\n        const today = new Date();\r\n        const year = today.getFullYear();\r\n        const month = today.getMonth();\r\n        const date = today.getDate();\r\n\r\n        if(lmitteText !== '' || fileData !== ''){\r\n            if(fileData !== ''){\r\n                const fileReference = storageService.ref().child(`lmittes/${user.uid}/${uuidv4()}`);\r\n                const response = await fileReference.putString(fileData, 'data_url');\r\n                fileUrl = await response.ref.getDownloadURL();\r\n            }\r\n            const lmitte = {\r\n                date : `${year}/${month + 1}/${date}`,\r\n                text : lmitteText,\r\n                createdAt : Date.now(),\r\n                creatorId : user.uid,\r\n                fileUrl,\r\n                likedId : [],\r\n                comments : []\r\n            }\r\n            await dbService.collection('lmittes').add(lmitte);\r\n            setLmitteText('');\r\n            clearFileData();\r\n        }else{\r\n            window.alert(\"Sorry! You can't upload an empty post!\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className=\"lmitteForm\" >\r\n            <div className=\"formWrap\">\r\n                <input value={lmitteText} type=\"text\" placeholder=\"What's on your mind?\" onChange={onChange} />\r\n                <input id=\"lmittePhoto\" type=\"file\" accept=\"image/*\" onChange={onFileChange} ref={fileInput} />\r\n                {fileData?\r\n                    <div>\r\n                        <figure>\r\n                            <img src={fileData} alt=\"upload file\" />\r\n                        </figure>\r\n                        <button onClick={clearFileData}>Clear Image</button>\r\n                    </div>\r\n                    :<label htmlFor=\"lmittePhoto\">\r\n                        <img src={photoIcon} alt=\"icon\" />\r\n                        <span>Add a photo...</span>\r\n                    </label>\r\n                }\r\n                \r\n            </div>\r\n            <button type=\"submit\">Lmitte</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default React.memo(CreateLmitte);","import React, { useEffect, useState } from 'react';\r\n\r\nfunction LoadingBar({loadingOn}) {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 1000);\r\n        return () => { setLoading(true); }\r\n    }, [loadingOn]);\r\n\r\n    return (\r\n        <>\r\n            {(loading || loadingOn===\"keep\")&&<div className=\"loading\">\r\n                <svg>\r\n                    <defs>\r\n                        <linearGradient id=\"linear\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                        <stop offset=\"0%\"   stopColor=\"#ff7bac\"/>\r\n                        <stop offset=\"100%\" stopColor=\"#06a3c4\"/>\r\n                        </linearGradient>\r\n                    </defs>\r\n                    <circle cx=\"50\" cy=\"50\" r=\"10\" stroke=\"url(#linear)\" />\r\n                </svg>\r\n            </div>}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default LoadingBar;","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { dbService } from 'myBase';\r\nimport Lmitte from 'components/Lmitte';\r\nimport CreateLmitte from 'components/home/CreateLmitte';\r\nimport LoadingBar from 'components/LoadingBar';\r\nimport { useUserContext } from 'Context';\r\nimport 'scss/home.scss';\r\n\r\nconst Home = () => {\r\n    const user = useUserContext();\r\n    const [lmittes, setLmittes] = useState([]);\r\n    const getLmittes = useCallback(() => {\r\n        dbService.collection('lmittes').orderBy('createdAt', 'desc').onSnapshot(snapshot => {\r\n            const LmitteArray = snapshot.docs.map(doc => ({...doc.data(), id: doc.id}));\r\n            setLmittes(LmitteArray);\r\n        });\r\n    }, []);\r\n    useEffect(() => {\r\n        getLmittes();\r\n        return () => {\r\n            setLmittes([]);\r\n        }\r\n    }, [getLmittes]);\r\n\r\n    return(\r\n        <div className=\"home wrap\">\r\n            <div className=\"userForm\">\r\n                <div className=\"myInfo\">\r\n                    <figure>\r\n                        <img src={user.photoURL} alt=\"my profile\" width=\"100\"/>\r\n                    </figure>\r\n                    <p>{user.displayName}</p>\r\n                </div>\r\n                <CreateLmitte />\r\n            </div>\r\n            {lmittes.length !== 0 && <LoadingBar loadingOn={lmittes}/>}\r\n            <ul className=\"lmittes\">\r\n                {lmittes.map(lmitte => <li key={lmitte.id}>\r\n                    <Lmitte lmitteObj={lmitte} />\r\n                </li>)}\r\n            </ul>\r\n        </div>\r\n    );   \r\n}\r\n\r\nexport default React.memo(Home);","import React from 'react';\r\nimport { authService} from 'myBase';\r\nimport { useHistory } from 'react-router';\r\nimport { useUserContext } from 'Context';\r\nimport {Link} from 'react-router-dom';\r\nimport logo from 'img/logo_clean.png';\r\n\r\nfunction Navigation() {\r\n    const user = useUserContext();\r\n    const history = useHistory();\r\n    const onLogOutClick = () => {\r\n        const letOut = window.confirm('Do you want really to leave Lmitter?');\r\n        if(letOut){\r\n            authService.signOut();\r\n            history.push('/');\r\n        }\r\n    };\r\n\r\n    return (<header>\r\n        <div className=\"wrap\">\r\n            <h1><Link to=\"/\"><img src={logo} alt=\"logo\"/><span>lmitter</span></Link></h1>\r\n            <nav>\r\n                <ul>\r\n                    <li><Link to=\"/profile\">{user.displayName}'s Profile</Link></li>\r\n                    <li><button onClick={onLogOutClick}>Log Out</button></li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    </header>);\r\n}\r\n\r\nexport default Navigation;","import { useUserContext, useRefreshUser, useUserData } from 'Context';\r\nimport { dbService, storageService } from 'myBase';\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport LoadingBar from 'components/LoadingBar';\r\nimport photoIcon from 'img/photo_icon.png';\r\n\r\nfunction MyInfo() {\r\n    const user = useUserContext();\r\n    const {displayName, photoURL} = user;\r\n    const userFile = useUserData();\r\n    const refreshUser = useRefreshUser();\r\n    const [update, setUpdate]  = useState(false);\r\n    const [myData, setMydata] = useState({\r\n        myPhoto: '',\r\n        myIntro : '',\r\n        docId : ''\r\n    });\r\n    const {myPhoto, myIntro, docId} = myData;\r\n    const [inputs, setInputs] = useState({\r\n        newName : user.displayName,\r\n        newPhoto : '',\r\n        newIntro : '',\r\n    });\r\n    const {newName, newPhoto, newIntro} = inputs;\r\n    const photoInput = useRef();\r\n    const top = useRef();\r\n\r\n    const getMyData = useCallback(async() => {\r\n        const myData = await userFile(user.uid);\r\n        const {data, id} = myData;\r\n        setMydata({myPhoto:data.photoURL, myIntro:data.userIntro, docId:id});\r\n        setInputs(prev => ({...prev, newIntro: data.userIntro}));\r\n    }, [user.uid, userFile]);\r\n    useEffect(() => {\r\n        getMyData();\r\n        return () => {\r\n            setMydata({});\r\n        }\r\n    }, [getMyData]);\r\n\r\n    const onToggle = () => {\r\n        setUpdate(prev => !prev);\r\n    }\r\n    const onChangeInput = useCallback(e => {\r\n        const {value, name} = e.target;\r\n        setInputs(prev => ({...prev, [name]:value}));\r\n    }, []);\r\n    const onFileChange = e => {\r\n        const {files} = e.target;\r\n        const theFile = files[0];\r\n        if(theFile){\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(theFile);\r\n            reader.onloadend = (finishedEvent) => {\r\n                const {result} = finishedEvent.currentTarget;\r\n                setInputs({...inputs, newPhoto: result});\r\n            }\r\n        }\r\n    }\r\n    const onClearPhoto = () => {\r\n        setInputs(prev => ({...prev, newPhoto: ''}));\r\n        photoInput.current.value = '';\r\n    }\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        top.current.scrollIntoView();\r\n        if(displayName !== newName && newName !== ''){\r\n            await user.updateProfile({\r\n                displayName : newName\r\n            });\r\n            await dbService.doc(`users/${docId}`).update({\r\n                username: newName\r\n            });\r\n        }\r\n        if( myIntro !== newIntro && newIntro !== ''){\r\n            await dbService.doc(`users/${docId}`).update({\r\n                userIntro: newIntro\r\n            });\r\n        }\r\n        if(newPhoto){\r\n            setMydata(({...myData, myPhoto: null}));\r\n            const allPhotos = await storageService.ref(`profile/${user.uid}`).listAll();\r\n            allPhotos.items.map(item => item.delete());\r\n            const fileReference = storageService.ref().child(`profile/${user.uid}/${uuidv4()}`);\r\n            const response = await fileReference.putString(newPhoto, 'data_url');\r\n            const fileUrl = await response.ref.getDownloadURL();\r\n            await user.updateProfile({\r\n                photoURL: fileUrl\r\n            });\r\n            await dbService.doc(`users/${docId}`).update({\r\n                photoURL: fileUrl\r\n            });\r\n        }\r\n        setUpdate(false); \r\n        setInputs(prev => ({...prev, newPhoto: ''}));\r\n        refreshUser();\r\n    }\r\n\r\n    const loadingOn = [myPhoto, user, myIntro];\r\n    return (\r\n        <>\r\n            <div className=\"userInfo\" ref={top}>\r\n                {myPhoto?<img src={photoURL} alt=\"\" width=\"100\" />:<LoadingBar loadingOn=\"keep\" />}\r\n                <h3>{displayName}</h3>\r\n                <p>{myIntro}</p>\r\n                <LoadingBar loadingOn={loadingOn}/> \r\n            </div>\r\n            <button type=\"button\" onClick={onToggle}>Update</button>\r\n            {update&&\r\n            <form onSubmit={onSubmit} className=\"updateForm\">\r\n                <fieldset className=\"updatePhoto\">\r\n                    <input id=\"photo\" type=\"file\" accept=\"image/*\" onChange={onFileChange} ref={photoInput} />\r\n                    {newPhoto?\r\n                        <div>\r\n                            <img src={newPhoto} alt=\"upload file\" />\r\n                            <button onClick={onClearPhoto}>Clear Image</button>\r\n                        </div>:\r\n                        <label htmlFor=\"photo\">\r\n                            <img src={photoIcon} alt=\"icon\" />\r\n                            <span>Change my photo...</span>\r\n                        </label>\r\n                    }\r\n                </fieldset>\r\n                <fieldset className=\"updateMyInfo\">\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input id=\"name\" type=\"text\" name=\"newName\" placeholder=\"Enter your nickname\" value={newName} onChange={onChangeInput} maxLength=\"10\" />\r\n                    <label htmlFor=\"intro\">Intro</label>\r\n                    <input id=\"intro\" type=\"text\" name=\"newIntro\" placeholder=\"Enter your introduction\" value={newIntro} onChange={onChangeInput} maxLength=\"100\" />\r\n                </fieldset>\r\n                <button type=\"submit\">Update Profile</button>\r\n            </form>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default React.memo(MyInfo);","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { dbService } from 'myBase';\r\nimport LoadingBar from 'components/LoadingBar';\r\nimport MyInfo from 'components/profile/MyInfo';\r\nimport { useUserContext } from 'Context';\r\nimport Lmitte from 'components/Lmitte';\r\nimport CreateLmitte from 'components/home/CreateLmitte';\r\n \r\nconst Profile = () => {\r\n    const user = useUserContext();\r\n    const [myLmittes, setMyLmittes] = useState([]);\r\n        \r\n    const getMyLmittes = useCallback(async () => {\r\n        dbService.collection('lmittes').where('creatorId', '==', user.uid).orderBy('createdAt', 'desc').onSnapshot(snapshot => {\r\n            const myLmitte = snapshot.docs.map(doc => ({...doc.data(), id: doc.id}));\r\n            setMyLmittes(myLmitte);\r\n        });\r\n    }, [user.uid]); \r\n\r\n   useEffect(() => {\r\n    getMyLmittes();\r\n        return () => {\r\n            setMyLmittes([]);\r\n        }\r\n   }, [getMyLmittes]);\r\n\r\n    return <div className=\"myProfile wrap\">\r\n        <MyInfo />\r\n        <CreateLmitte />\r\n        <LoadingBar loadingOn={myLmittes}/>\r\n        <ul className=\"lmittes\">\r\n            {myLmittes.map(myLmitte => {\r\n                return(\r\n                    <li key={myLmitte.id} >\r\n                        <Lmitte lmitteObj={myLmitte} />\r\n                    </li>\r\n                ); \r\n            })}\r\n        </ul>\r\n    </div>\r\n}\r\n\r\nexport default React.memo(Profile);","import { dbService } from 'myBase';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport Lmitte from 'components/Lmitte';\r\nimport LoadingBar from 'components/LoadingBar';\r\nimport { useUserData } from 'Context';\r\n\r\nconst OtherProfile = () => {\r\n    let { userId } = useParams();\r\n    const [userLmittes, setUserLmittes] = useState([]);\r\n    const userFile = useUserData();\r\n    const [thisUser, setThisUser] = useState({});\r\n    const getThisUser = useCallback(async () => {\r\n        const userInfo = await userFile(userId);\r\n        setThisUser(userInfo.data);\r\n    },[userId, userFile]);\r\n    useEffect(() => {\r\n        getThisUser();\r\n    }, [getThisUser]);\r\n\r\n    const getYourLmittes =  useCallback(async () => {\r\n        const lmittes = await dbService.collection('lmittes').where('creatorId', '==', userId).orderBy('createdAt', 'desc').get();\r\n        const userLmitte =  lmittes.docs.map(doc => ({...doc.data(), id: doc.id}));\r\n        setUserLmittes(userLmitte);\r\n    }, [userId]); \r\n   useEffect(() => {\r\n        getYourLmittes();\r\n        return () => {\r\n            setUserLmittes([]);\r\n        }\r\n   }, [getYourLmittes]);\r\n\r\n    return <div className=\"yourProfile wrap\">\r\n        <div className=\"userInfo\">\r\n            <img src={thisUser.photoURL} alt=\"\" width=\"100\" />\r\n            <h3>{thisUser.username}</h3>\r\n            <p>{thisUser.userIntro}</p>\r\n        </div>\r\n        <LoadingBar loadingOn={userLmittes} />\r\n        <ul className=\"lmittes\">\r\n            {userLmittes.map(lmitte => {\r\n                return(\r\n                    <li key={lmitte.id}>\r\n                        <Lmitte lmitteObj={lmitte} />\r\n                    </li>\r\n                ); \r\n            })}\r\n        </ul>\r\n    </div>\r\n}\r\n\r\nexport default React.memo(OtherProfile);","import React from 'react';\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Auth from 'routes/Auth';\r\nimport Home from 'routes/Home';\r\nimport Navigation from 'components/Navigation';\r\nimport MyProfile from 'routes/MyProfile';\r\nimport OtherProfile from 'routes/OtherProfile';\r\nimport { useUserContext } from 'Context';\r\n\r\nconst AppRouter = () => {\r\n    const user = useUserContext();\r\n    const isLoggedIn = Boolean(user.uid);\r\n    \r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                {isLoggedIn?\r\n                    <>\r\n                        <Navigation />\r\n                        <Route exact path=\"/\">\r\n                            <Home />\r\n                        </Route>\r\n                        <Route exact path=\"/profile\">\r\n                            <MyProfile />\r\n                        </Route>\r\n                        <Route path={`/profile/:userId`}>\r\n                            <OtherProfile />\r\n                        </Route>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <Route exact path=\"/\">\r\n                            <Auth />\r\n                        </Route>\r\n                    </>\r\n                }\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default AppRouter;","import React, {useEffect, useState} from 'react';\nimport AppRouter from 'components/Router';\nimport { UserProvider } from 'Context';\nimport { authService } from 'myBase';\nimport 'scss/common.scss';\nimport LoadingBar from './LoadingBar';\n\nfunction App() {\n  const [init, setInit] = useState();\n  useEffect(() => {\n    document.title = 'lmitter | Social Waves';\n    authService.onAuthStateChanged(() => setInit(true));\n  }, []);\n\n  return (\n    <div className=\"bodyWrap\">\n      <UserProvider>\n        {init?<AppRouter />:<div className=\"initFalse\">\n            <LoadingBar loadingOn=\"keep\"/>\n            </div>}\n        <footer>&copy; 2021 Lmitter</footer>\n      </UserProvider>\n    </div>\n  );\n}\n\nexport default React.memo(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}